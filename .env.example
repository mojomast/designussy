# NanoBanana Generator API - Environment Configuration
# Copy this file to .env and fill in your actual values

# ==============================================
# API Configuration
# ==============================================

# Your OpenAI-compatible API key (Requesty, OpenAI, etc.)
# Get your key from: https://router.requesty.ai/ or https://platform.openai.com/
OPENAI_API_KEY=sk-placeholder-key-replace-me

# Base URL for the LLM provider
# Defaults to Requesty router: https://router.requesty.ai/v1
# For OpenAI direct: https://api.openai.com/v1
# For custom proxy: https://your-proxy.com/v1
LLM_BASE_URL=https://router.requesty.ai/v1

# ==============================================
# Security Configuration
# ==============================================

# CORS Origins (comma-separated list of allowed frontend URLs)
# Examples:
#   Development: http://localhost:3000,http://localhost:8000
#   Production: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ==============================================
# Optional Configuration
# ==============================================

# API Port (default: 8001)
# PORT=8001

# Log Level (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

# Rate Limiting (requests per minute per IP)
# RATE_LIMIT=60

# ==============================================
# Cache Configuration
# ==============================================

# Maximum number of items to store in cache (default: 100)
# CACHE_SIZE=100

# Time To Live for cached parchment assets (seconds, default: 3600)
# CACHE_TTL_PARCHMENT=3600

# Time To Live for cached enso assets (seconds, default: 3600)
# CACHE_TTL_ENSO=3600

# Time To Live for cached sigil assets (seconds, default: 3600)
# CACHE_TTL_SIGIL=3600

# Time To Live for cached creature assets (seconds, default: 3600)
# CACHE_TTL_CREATURE=3600

# Enable cache metrics collection (default: true)
# CACHE_METRICS=true

# ==============================================
# Batch Generation Configuration
# ==============================================

# Maximum number of items per batch request (default: 100)
# BATCH_MAX_ITEMS=100

# Maximum number of parallel workers for batch processing (default: 4)
# BATCH_PARALLEL_WORKERS=4

# Time To Live for batch job data in seconds (default: 3600)
# BATCH_JOB_TTL=3600

# Rate limit for batch generation endpoint (requests per minute, default: 10)
# BATCH_RATE_LIMIT=10

# Rate limit for batch status endpoint (requests per minute, default: 60)
# BATCH_STATUS_RATE_LIMIT=60

# Rate limit for batch cancel endpoint (requests per minute, default: 30)
# BATCH_CANCEL_RATE_LIMIT=30

# Enable parallel processing by default (default: true)
# BATCH_PARALLEL_ENABLED=true

# Maximum age of completed jobs to keep in hours (default: 24)
# BATCH_JOB_MAX_AGE=24

# ==============================================
# Performance Configuration
# ==============================================

# Performance level: balanced, fast, quality
# - balanced: Good quality with reasonable speed (default)
# - fast: Prioritize speed over quality
# - quality: Prioritize quality over speed
# PERFORMANCE_LEVEL=balanced

# Enable precomputation of expensive patterns (default: true)
# ENABLE_PRECOMPUTATION=true

# Cache size for noise patterns (number of patterns, default: 50)
# NOISE_CACHE_SIZE=50

# Pre-allocated image buffer pool size (default: 10)
# IMAGE_POOL_SIZE=10

# Enable parallel generation where beneficial (default: true)
# PARALLEL_GENERATION=true

# Maximum parallel workers for generation (default: 4)
# MAX_WORKERS=4

# Fast-path mode for simple assets (default: false)
# ENABLE_FAST_PATH=false

# Memory usage threshold for generation (MB, default: 100)
# MEMORY_THRESHOLD=100

# Enable performance monitoring and metrics (default: true)
# PERFORMANCE_MONITORING=true

# ==============================================
# Advanced Generation Parameters Configuration
# ==============================================

# Maximum allowed resolution for generation (pixels, default: 2048)
# MAX_RESOLUTION=2048

# Minimum allowed resolution for generation (pixels, default: 64)
# MIN_RESOLUTION=64

# Default quality level for new generations (low, medium, high, ultra, default: medium)
# DEFAULT_QUALITY=medium

# Maximum number of colors in custom palettes (default: 10)
# MAX_COLORS_IN_PALETTE=10

# Allow custom color palettes (default: true)
# ALLOW_CUSTOM_PALETTES=true

# Maximum resolution multiplier for advanced generations (default: 4.0)
# MAX_RESOLUTION_MULTIPLIER=4.0

# Default compression level for generated images (1-100, default: 95)
# DEFAULT_COMPRESSION=95

# Maximum number of presets that can be loaded simultaneously (default: 100)
# MAX_LOADED_PRESETS=100

# Rate limit for advanced generation endpoints (requests per minute, default: 10)
# ADVANCED_GENERATION_RATE_LIMIT=10

# Rate limit for preset endpoints (requests per minute, default: 20)
# PRESET_RATE_LIMIT=20

# Rate limit for parameter validation endpoint (requests per minute, default: 60)
# VALIDATION_RATE_LIMIT=60

# Enable advanced parameter caching (default: true)
# ENABLE_ADVANCED_CACHING=true

# Maximum cache size for advanced parameter combinations (default: 1000)
# ADVANCED_CACHE_SIZE=1000

# Default style preset for new generations (default: detailed)
# DEFAULT_STYLE_PRESET=detailed

# Maximum complexity allowed (0.0-1.0, default: 1.0)
# MAX_COMPLEXITY=1.0

# Maximum randomness allowed (0.0-1.0, default: 1.0)
# MAX_RANDOMNESS=1.0

# ==============================================
# Preset Management Configuration
# ==============================================

# Maximum number of custom presets per user (default: 50)
# MAX_CUSTOM_PRESETS=50

# Enable preset validation (default: true)
# ENABLE_PRESET_VALIDATION=true

# Default preset category (default: style)
# DEFAULT_PRESET_CATEGORY=style

# ==============================================
# Color Palette Configuration
# ==============================================

# Maximum palette interpolation steps (default: 20)
# MAX_PALETTE_INTERPOLATION_STEPS=20

# Default number of colors in generated palettes (default: 5)
# DEFAULT_PALETTE_SIZE=5

# Enable automatic color harmony validation (default: true)
# ENABLE_COLOR_HARMONY_VALIDATION=true

# Maximum saturation adjustment factor (default: 3.0)
# MAX_SATURATION_ADJUSTMENT=3.0

# Maximum brightness adjustment factor (default: 3.0)
# MAX_BRIGHTNESS_ADJUSTMENT=3.0

# Maximum contrast adjustment factor (default: 3.0)
# MAX_CONTRAST_ADJUSTMENT=3.0

# ==============================================
# Quality and Performance Settings
# ==============================================

# Default anti-aliasing setting (default: true)
# DEFAULT_ANTI_ALIASING=true

# Maximum quality level processing time multiplier (default: 3.0)
# MAX_QUALITY_TIME_MULTIPLIER=3.0

# Enable progressive enhancement for quality levels (default: true)
# ENABLE_PROGRESSIVE_ENHANCEMENT=true

# Default format for generated assets (png, jpg, webp, default: png)
# DEFAULT_OUTPUT_FORMAT=png

# ==============================================
# Notes
# ==============================================
# 1. Never commit your .env file to version control
# 2. Keep your API keys secure and never share them
# 3. Use environment variables in production deployments
# 4. Update CORS_ORIGINS to match your frontend URLs
# 5. Adjust batch settings based on your server capacity
# 6. Performance settings affect generation speed and quality
# 7. Fast-path mode enables optimized versions of simple generators
# 8. Advanced parameters provide fine-grained control over asset generation
# 9. Presets allow consistent results across different generation types
# 10. Color palettes enable custom theming and brand consistency
# 11. Quality settings trade off between generation speed and visual fidelity
# 12. Resolution multipliers affect both detail level and processing time